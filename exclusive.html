<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Exclusive - Olives</title>
    <link rel="shortcut icon" type="image/png" href="/assets/images/title-image.png">
    <link rel="stylesheet" href="/css/style.css">
    <script src="https://kit.fontawesome.com/f21bb293c3.js" crossorigin="anonymous"></script>
</head>
<body>

<nav class="nav">
  <div class="nav-left">
    <div class="logo-container">
      <img src="assets/images/transparent-logo.png" height="80px" alt="Olives Logo">
    </div>
  </div>

  <div class="nav-center">
  </div>

  <div class="nav-right">
    <div class="cart-container">
      <a href="cart.html">
        <img src="assets/images/shopping-bag.svg" alt="Cart" class="cart-icon">
      </a>
      <div id="cart-dropdown" class="cart-dropdown">
        <p>Your cart is empty</p>
      </div>
    </div>
  </div>
</nav>    

<section class="tabs" aria-label="Product categories">
  <div class="tablist" role="tablist" aria-label="Clothing">
    <button role="tab"
            id="tab-men"
            class="tab is-active"
            aria-selected="true"
            aria-controls="panel-men"
            tabindex="0">
      Men
    </button>
    <button role="tab"
            id="tab-women"
            class="tab"
            aria-selected="false"
            aria-controls="panel-women"
            tabindex="-1">
      Women
    </button>
  </div>

  <div id="panel-men"
       role="tabpanel"
       class="tabpanel is-active"
       aria-labelledby="tab-men">
    <!-- Men products grid -->
    <div class="product-grid">
      <!-- Repeat product-card items -->
      <article class="product-card" data-sku="m-001">
        <div class="product-media" tabindex="0" aria-label="Preview Men Product 1">
          <img class="product-img front" src="/assets/images/products/test-front.jpg" alt="Men Product 1 front">
          <img class="product-img back"  src="/assets/images/products/test-back.jpg"  alt="Men Product 1 back" loading="lazy">
        </div>
         <h3 class="product-title">Product 0</h3>
         <p class="product-price">$24.99</p>
         <button class="add-to-cart">Add to Cart</button>
         <button class="Buy-now">Buy Now</button>
      </article>

      <article class="product-card" data-sku="m-001">
        <div class="product-media" tabindex="0" aria-label="Preview Men Product 1">
          <img class="product-img front" src="/assets/images/products/test-front.jpg" alt="Men Product 1 front">
          <img class="product-img back"  src="/assets/images/products/test-back.jpg"  alt="Men Product 1 back" loading="lazy">
        </div>
         <h3 class="product-title">Product 1</h3>
         <p class="product-price">$24.99</p>
         <button class="add-to-cart">Add to Cart</button>
         <button class="Buy-now">Buy Now</button>
      </article>
      <article class="product-card" data-sku="m-001">
        <div class="product-media" tabindex="0" aria-label="Preview Men Product 1">
          <img class="product-img front" src="/assets/images/products/test-front.jpg" alt="Men Product 1 front">
          <img class="product-img back"  src="/assets/images/products/test-back.jpg"  alt="Men Product 1 back" loading="lazy">
        </div>
         <h3 class="product-title">Product 2</h3>
         <p class="product-price">$24.99</p>
         <button class="add-to-cart">Add to Cart</button>
         <button class="Buy-now">Buy Now</button>
      </article>
      <article class="product-card" data-sku="m-001">
        <div class="product-media" tabindex="0" aria-label="Preview Men Product 1">
          <img class="product-img front" src="/assets/images/products/product1-front.png" alt="Men Product 1 front">
          <img class="product-img back"  src="/assets/images/products/product1-back.png"  alt="Men Product 1 back" loading="lazy">
          <img class="product-img front" src="/assets/images/products/test-front.jpg" alt="Men Product 1 front">
          <img class="product-img back"  src="/assets/images/products/test-back.jpg"  alt="Men Product 1 back" loading="lazy">
        </div>
         <h3 class="product-title">Product 3</h3>
         <p class="product-price">$24.99</p>
         <button class="add-to-cart">Add to Cart</button>
         <button class="Buy-now">Buy Now</button>
      </article>
      <article class="product-card" data-sku="m-001">
        <div class="product-media" tabindex="0" aria-label="Preview Men Product 1">
          <img class="product-img front" src="/assets/images/products/test-front.jpg" alt="Men Product 1 front">
          <img class="product-img back"  src="/assets/images/products/test-back.jpg"  alt="Men Product 1 back" loading="lazy">
        </div>
         <h3 class="product-title">Product 4</h3>
         <p class="product-price">$24.99</p>
         <button class="add-to-cart">Add to Cart</button>
         <button class="Buy-now">Buy Now</button>
      </article>
      <article class="product-card" data-sku="m-001">
        <div class="product-media" tabindex="0" aria-label="Preview Men Product 1">
          <img class="product-img front" src="/assets/images/products/product1-front.png" alt="Men Product 1 front">
          <img class="product-img back"  src="/assets/images/products/product1-back.png"  alt="Men Product 1 back" loading="lazy">
        </div>
         <h3 class="product-title">Product 1</h3>
         <p class="product-price">$24.99</p>
         <button class="add-to-cart">Add to Cart</button>
         <button class="Buy-now">Buy Now</button>
      </article>
    </div>
  </div>

  <div id="panel-women"
       role="tabpanel"
       class="tabpanel"
       aria-labelledby="tab-women"
       hidden>
    <!-- Women products grid -->
    <div class="product-grid">
      <article class="product-card" data-sku="w-001">
        <div class="product-media" tabindex="0" aria-label="Preview Women Product 1">
          <img class="product-img front" src="/assets/images/products/test-front.jpg" alt="Women Product 1 front">
          <img class="product-img back"  src="/assets/images/products/test-back.jpg"  alt="Women Product 1 back" loading="lazy">
        </div>

         <h3 class="product-title">Product 1</h3>
         <p class="product-price">$24.99</p>
         <button class="add-to-cart">Add to Cart</button>
         <button class="Buy-now">Buy Now</button>
      </article>
    </div>
  </div>
</section>

    <footer dir="rtl" class="footer">
        <div class="footer-content">
            <div class="footer-logo">Olives</div>
            <div class="footer-nav">
                <div class="social-links">
                <a href="about.html">
			<i class="fa-solid fa-circle-info"></i>
                </a>
                    <a href="https://www.instagram.com/olivesstyle" target="_blank">
			    <i class="fa-brands fa-instagram"></i>
                    </a>
                    <a href="https://www.facebook.com/profile.php?id=61565619145409" target="_blank">
			    <i class="fa-brands fa-facebook"></i>
                    </a>
                </div>
            </div>
        </div>
    </footer>

    <script>
        const addToCartButtons = document.querySelectorAll('.add-to-cart');
        const cartIcon = document.querySelector('.cart-icon');
        let cartItems = JSON.parse(localStorage.getItem('cartItems')) || [];

        // Add to cart logic
        
        const buyNowButtons = document.querySelectorAll('.Buy-now');

buyNowButtons.forEach(button => {
    button.addEventListener('click', () => {
        const productCard = button.closest('.product-card');
        const productName = productCard.querySelector('.product-title').innerText;
        const productPrice = productCard.querySelector('.product-price').innerText;

        // Clear existing cart and add only this item
        localStorage.setItem('cartItems', JSON.stringify([{ name: productName, price: productPrice }]));
        
        // Redirect to checkout immediately
        window.location.href = 'cart.html';
    });
});

        // Group items for dropdown
        function aggregateItems(items) {
            const grouped = {};
            items.forEach(item => {
                const key = `${item.name}-${item.price}`;
                grouped[key] = grouped[key] || { ...item, quantity: 0 };
                grouped[key].quantity++;
            });
            return Object.values(grouped);
        }

        // Update cart dropdown
        function updateCartDropdown() {
            const cartDropdown = document.getElementById('cart-dropdown');
            const items = JSON.parse(localStorage.getItem('cartItems')) || [];
            
            if (items.length === 0) {
                cartDropdown.innerHTML = '<p>Your cart is empty</p>';
            } else {
                cartDropdown.innerHTML = '<h4>Your Cart:</h4>';
                const aggregated = aggregateItems(items);
                aggregated.forEach(item => {
                    cartDropdown.innerHTML += `<p>${item.name} Ã— ${item.quantity}</p>`;
                });
            }
        }

        // Function to show the cart notification
function showCartNotification() {
    const notification = document.getElementById('cart-notification');
    notification.classList.add('show');

    // Hide the notification after 3 seconds
    setTimeout(() => {
        notification.classList.remove('show');
    }, 3000);
}

// Add to cart logic
addToCartButtons.forEach(button => {
    button.addEventListener('click', () => {
        const productCard = button.closest('.product-card');
        const productName = productCard.querySelector('.product-title').innerText;
        const productPrice = productCard.querySelector('.product-price').innerText;

        cartItems.push({ name: productName, price: productPrice });
        localStorage.setItem('cartItems', JSON.stringify(cartItems));

        // Trigger animation
        cartIcon.classList.add('animate');
        setTimeout(() => {
            cartIcon.classList.remove('animate');
        }, 600); // Match animation duration

        updateCartDropdown();
        showCartNotification();
    });
});

        // Initialize on page load
        document.addEventListener('DOMContentLoaded', updateCartDropdown);

	// TAB LIST IMPLEMENTATION
(() => {
  const tablist = document.querySelector('.tablist[role="tablist"]');
  if (!tablist) return;

  const tabs = Array.from(tablist.querySelectorAll('[role="tab"]'));
  const panels = tabs.map(t => document.getElementById(t.getAttribute('aria-controls')));

  function activateTab(index, { focus = true } = {}) {
    tabs.forEach((tab, i) => {
      const selected = i === index;
      tab.classList.toggle('is-active', selected);
      tab.setAttribute('aria-selected', String(selected));
      tab.tabIndex = selected ? 0 : -1;

      const panel = panels[i];
      if (!panel) return;
      panel.classList.toggle('is-active', selected);
      if (selected) {
        panel.removeAttribute('hidden');
      } else {
        panel.setAttribute('hidden', '');
      }
    });
    if (focus) tabs[index].focus();
  }

  tabs.forEach((tab, i) => {
    tab.addEventListener('click', () => activateTab(i));
  });

  tablist.addEventListener('keydown', (e) => {
    const current = tabs.indexOf(document.activeElement);
    if (current === -1) return;

    switch (e.key) {
      case 'ArrowRight':
      case 'Right':
        e.preventDefault();
        activateTab((current + 1) % tabs.length);
        break;
      case 'ArrowLeft':
      case 'Left':
        e.preventDefault();
        activateTab((current - 1 + tabs.length) % tabs.length);
        break;
      case 'Home':
        e.preventDefault();
        activateTab(0);
        break;
      case 'End':
        e.preventDefault();
        activateTab(tabs.length - 1);
        break;
    }
  });

  const initial = Math.max(0, tabs.findIndex(t => t.getAttribute('aria-selected') === 'true'));
  activateTab(initial, { focus: false });
})();
    </script>
    <div id="cart-notification" class="cart-notification">
        <span>Added to cart</span>
    </div>
</body>
</html>

<style>
.banner {


}
</style>
